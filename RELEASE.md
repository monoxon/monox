# ğŸ“¦ MonoX å‘å¸ƒæŒ‡å—

## ğŸš€ å‘å¸ƒæµç¨‹

### 1. å‡†å¤‡å‘å¸ƒ

```bash
# è¿è¡Œå‘å¸ƒå‰æ£€æŸ¥
pnpm run prepare-release
```

è¿™ä¸ªå‘½ä»¤ä¼šï¼š
- âœ… æ£€æŸ¥ Git çŠ¶æ€
- ğŸ“ æ£€æŸ¥ä»£ç æ ¼å¼ (`cargo fmt --check`)
- ğŸ” è¿è¡Œä»£ç æ£€æŸ¥ (`cargo clippy`)
- ğŸ§ª è¿è¡Œæµ‹è¯• (`cargo test`)
- ğŸ”¨ æ„å»º release ç‰ˆæœ¬

### 2. æ·»åŠ å˜æ›´è®°å½•

```bash
# äº¤äº’å¼æ·»åŠ å˜æ›´è®°å½•
pnpm run changeset
```

é€‰æ‹©å˜æ›´ç±»å‹ï¼š
- **patch**: ä¿®å¤ bug
- **minor**: æ–°å¢åŠŸèƒ½
- **major**: é‡å¤§å˜æ›´

### 3. æ›´æ–°ç‰ˆæœ¬

```bash
# æ ¹æ®å˜æ›´è®°å½•æ›´æ–°ç‰ˆæœ¬å·
pnpm run version
```

è¿™ä¼šï¼š
- æ›´æ–° `package.json` ä¸­çš„ç‰ˆæœ¬å·
- ç”Ÿæˆ `CHANGELOG.md`
- æ¶ˆè´¹æ‰ `.changeset` ä¸­çš„å˜æ›´è®°å½•
- è‡ªåŠ¨æäº¤ç‰ˆæœ¬å˜æ›´

### 4. å‘å¸ƒåˆ° npm

```bash
# æ„å»ºã€å‘å¸ƒå¹¶æ‰“æ ‡ç­¾
pnpm run release
```

è¿™ä¼šï¼š
- æ„å»º release ç‰ˆæœ¬
- å‘å¸ƒåˆ° npmï¼ˆä¸åˆ›å»º changeset çš„æ ‡ç­¾ï¼‰
- åˆ›å»ºç®€æ´çš„ Git æ ‡ç­¾ï¼ˆæ ¼å¼ï¼š`v1.0.0`ï¼‰
- æ¨é€æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“

æˆ–è€…åˆ†æ­¥æ‰§è¡Œï¼š

```bash
# 1. æ„å»º
pnpm run build

# 2. å‘å¸ƒï¼ˆä¸åˆ›å»ºæ ‡ç­¾ï¼‰
changeset publish --no-git-tag

# 3. æ‰“æ ‡ç­¾å¹¶æ¨é€
pnpm run tag
```

## ğŸ“‹ å‘å¸ƒæ¸…å•

- [ ] è¿è¡Œ `pnpm run prepare-release`
- [ ] æ·»åŠ å˜æ›´è®°å½• `pnpm run changeset`
- [ ] æ›´æ–°ç‰ˆæœ¬ `pnpm run version` (è‡ªåŠ¨æäº¤)
- [ ] å‘å¸ƒ `pnpm run release` (è‡ªåŠ¨æ‰“æ ‡ç­¾å¹¶æ¨é€)

## âš¡ å¿«é€Ÿå‘å¸ƒ

å¯¹äºå°çš„è¡¥ä¸ç‰ˆæœ¬ï¼š

```bash
# ä¸€é”®å‘å¸ƒ patch ç‰ˆæœ¬
pnpm run prepare-release && \
pnpm run changeset -- --patch && \
pnpm run version && \
pnpm run release
```

## ğŸ”§ é…ç½®

å‘å¸ƒé…ç½®åœ¨ä»¥ä¸‹æ–‡ä»¶ä¸­ï¼š
- `package.json` - npm åŒ…é…ç½®
- `.changeset/config.json` - changeset é…ç½®
- `scripts/release.sh` - å‘å¸ƒå‰æ£€æŸ¥è„šæœ¬

### æ ‡ç­¾æ ¼å¼è¯´æ˜

ä¸ºäº†é¿å… changeset è‡ªåŠ¨æ·»åŠ åŒ…åå‰ç¼€ï¼ˆå¦‚ `monox@1.0.0`ï¼‰ï¼Œæˆ‘ä»¬ï¼š
1. ä½¿ç”¨ `--no-git-tag` å‚æ•°é˜»æ­¢ changeset åˆ›å»ºæ ‡ç­¾
2. é€šè¿‡è‡ªå®šä¹‰è„šæœ¬åˆ›å»ºç®€æ´çš„æ ‡ç­¾æ ¼å¼ï¼š`v1.0.0` 